{"ast":null,"code":"import jQuery from \"jquery\";\nimport \"jquery-ui/ui/effect.js\";\nimport I18n from \"./i18n\";\n(function ($) {\n  $(document).on(\"click\", \"#list input.toggle\", function () {\n    $(\"#list [name='bulk_ids[]']\").prop(\"checked\", $(this).is(\":checked\"));\n  });\n  $(document).on(\"turbo:click\", function () {\n    $(\"#loading\").show();\n  }).on(\"turbo:before-render\", function (event) {\n    document.querySelectorAll('.sidebar .btn-toggle[aria-expanded=\"false\"]').forEach(element => {\n      const newButton = event.detail.newBody.querySelector(`.sidebar [data-bs-target=\"${element.dataset.bsTarget}\"]`);\n      const newMenu = event.detail.newBody.querySelector(element.dataset.bsTarget);\n      if (newButton) {\n        newButton.parentNode.replaceChild(element.cloneNode(true), newButton);\n      }\n      if (newMenu) {\n        newMenu.classList.remove(\"show\");\n      }\n    });\n    $(\"#loading\").hide();\n  });\n  $(document).on(\"click\", \"[data-bs-target]\", function () {\n    if (!$(this).hasClass(\"disabled\")) {\n      if ($(this).has(\"i.fa-chevron-down\").length) {\n        $(this).removeClass(\"active\").children(\"i\").toggleClass(\"fa-chevron-down fa-chevron-right\");\n        $($(this).data(\"target\")).filter(\":visible\").hide(\"slow\");\n      } else {\n        if ($(this).has(\"i.fa-chevron-right\").length) {\n          $(this).addClass(\"active\").children(\"i\").toggleClass(\"fa-chevron-down fa-chevron-right\");\n          $($(this).data(\"target\")).filter(\":hidden\").show(\"slow\");\n        }\n      }\n    }\n  });\n  $(document).on(\"click\", \"form legend\", function () {\n    if ($(this).has(\"i.fa-chevron-down\").length) {\n      $(this).siblings(\".control-group:visible\").hide(\"slow\");\n      $(this).children(\"i\").toggleClass(\"fa-chevron-down fa-chevron-right\");\n    } else {\n      if ($(this).has(\"i.fa-chevron-right\").length) {\n        $(this).siblings(\".control-group:hidden\").show(\"slow\");\n        $(this).children(\"i\").toggleClass(\"fa-chevron-down fa-chevron-right\");\n      }\n    }\n  });\n  $(document).on(\"click\", \"form .tab-content .tab-pane a.remove_nested_one_fields\", function () {\n    $(this).children('input[type=\"hidden\"]').val($(this).hasClass(\"active\")).siblings(\"i\").toggleClass(\"fa-check fa-trash\");\n  });\n  function triggerDomReady() {\n    I18n.init($(\"html\").attr(\"lang\"), $(\"#admin-js\").data(\"i18nOptions\"));\n    const event = new CustomEvent(\"rails_admin.dom_ready\");\n    document.dispatchEvent(event);\n  }\n  $(document).ready(triggerDomReady);\n  document.addEventListener(\"turbo:render\", triggerDomReady);\n  document.addEventListener(\"rails_admin.dom_ready\", function (event) {\n    $(\".nav.nav-pills li.active\").removeClass(\"active\");\n    $('.nav.nav-pills li[data-model=\"' + $(\".page-header\").data(\"model\") + '\"]').addClass(\"active\");\n    $(\".animate-width-to\").each(function () {\n      var length, width;\n      length = $(this).data(\"animate-length\");\n      width = $(this).data(\"animate-width-to\");\n      $(this).animate({\n        width: width\n      }, length, \"easeOutQuad\");\n    });\n    $(\"form.main legend\").has(\"i.fa-chevron-right\").each(function () {\n      $(this).siblings(\".control-group\").hide();\n    });\n    $('button[name][type=\"submit\"]').on(\"click\", function () {\n      var form = $(this).closest(\"form\");\n      form.append($(\"<input />\").attr(\"type\", \"hidden\").attr(\"name\", $(this).attr(\"name\")).attr(\"value\", $(this).attr(\"value\")));\n      if ($(this).is(\"[formnovalidate]\")) {\n        form.attr(\"novalidate\", true);\n      }\n    });\n    $.each($(\"#filters_box\").data(\"options\"), function () {\n      $.filters.append(this);\n    });\n    // Workaround for https://github.com/heartcombo/devise/issues/5458\n    $(\"a[data-method]\").on(\"click\", function (event) {\n      window.Turbo.session.drive = false;\n    });\n\n    // Trigger via jQuery for compatibility with existing user codes\n    $(document).trigger(\"rails_admin.dom_ready\", event.detail ? [event.detail] : null);\n  });\n  $(document).on(\"click\", \".bulk-link\", function (event) {\n    event.preventDefault();\n    $(\"#bulk_action\").val($(this).data(\"action\"));\n    $(\"#bulk_form\").submit();\n  });\n  $(document).on(\"click\", \"#remove_filter\", function (event) {\n    event.preventDefault();\n    $(\"#filters_box\").html(\"\");\n    $(\"hr.filters_box\").hide();\n    $(this).siblings(\"input[type='search']\").val(\"\");\n    $(this).parents(\"form\").submit();\n  });\n  $(document).on(\"click\", \"th.header\", function (event) {\n    event.preventDefault();\n    window.Turbo.visit($(this).data(\"href\"));\n  });\n  $(document).on(\"click\", \"#fields_to_export label input#check_all\", function () {\n    var elems;\n    elems = $(\"#fields_to_export label input\");\n    if ($(\"#fields_to_export label input#check_all\").is(\":checked\")) {\n      $(elems).prop(\"checked\", true);\n    } else {\n      $(elems).prop(\"checked\", false);\n    }\n  });\n  $(document).on(\"click\", \"#fields_to_export .reverse-selection\", function () {\n    $(this).closest(\".control-group\").find(\".controls\").find(\"input\").click();\n  });\n})(jQuery);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}