{"ast":null,"code":"import Rails from \"@rails/ujs\";\n$(function () {\n  // 資産状況の登録画面の「登録」もしくは「更新」ボタンが押下されたときの処理で、以下(1)~(2)を順番に実行\n  $('#children_submit_btn').on(\"click\", function () {\n    // (1)6種類の教育機関別に教育方針（公立／私立など）を入力したフォームを順番に送信\n    function submit_education_expense_id_search_form() {\n      var forms = $('.education_expense_id_search_form');\n      return new Promise(function (resolve) {\n        for (var i = 0; i < forms.length; i++) {\n          Rails.fire(forms[i], 'submit');\n          if (i == length) {\n            resolve();\n          }\n        }\n      });\n    }\n    ;\n\n    // (2)(1)の処理が終わったら子どもの情報を入力したフォームを送信（※submitメソッドではremote:trueが実現できないため、fireメソッドを利用）\n    submit_education_expense_id_search_form().then(function () {\n      setTimeout(function () {\n        var child_forms = $('.child_create_form');\n        for (var i = 0; i < child_forms.length; i++) {\n          Rails.fire(child_forms[i], 'submit');\n        }\n      }, 2000);\n    });\n    console.log(\"処理完了\");\n  });\n});","map":{"version":3,"names":["Rails","$","on","submit_education_expense_id_search_form","forms","Promise","resolve","i","length","fire","then","setTimeout","child_forms","console","log"],"sources":["/home/maiko/money_design_app/app/javascript/packs/children_submit.js"],"sourcesContent":["import Rails from \"@rails/ujs\"\n$(function(){\n    // 資産状況の登録画面の「登録」もしくは「更新」ボタンが押下されたときの処理で、以下(1)~(2)を順番に実行\n    $('#children_submit_btn').on(\"click\",function(){\n\n        // (1)6種類の教育機関別に教育方針（公立／私立など）を入力したフォームを順番に送信\n        function submit_education_expense_id_search_form(){\n            var forms = $('.education_expense_id_search_form');\n            return new Promise((resolve) => {\n                for(var i=0; i<forms.length; i++){\n                    Rails.fire(forms[i],'submit');\n                    if(i == length){\n                        resolve();\n                    }\n                }\n    \n            })\n        };\n\n        // (2)(1)の処理が終わったら子どもの情報を入力したフォームを送信（※submitメソッドではremote:trueが実現できないため、fireメソッドを利用）\n        submit_education_expense_id_search_form()\n        .then(function(){\n            setTimeout(function(){\n                var child_forms = $('.child_create_form');\n                for(var i=0; i<child_forms.length; i++){\n                    Rails.fire(child_forms[i], 'submit');}\n            },2000);\n        })\n\n        console.log(\"処理完了\");\n\n    });\n\n})\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,YAAY;AAC9BC,CAAC,CAAC,YAAU;EACR;EACAA,CAAC,CAAC,sBAAsB,CAAC,CAACC,EAAE,CAAC,OAAO,EAAC,YAAU;IAE3C;IACA,SAASC,uCAAuCA,CAAA,EAAE;MAC9C,IAAIC,KAAK,GAAGH,CAAC,CAAC,mCAAmC,CAAC;MAClD,OAAO,IAAII,OAAO,CAAC,UAACC,OAAO,EAAK;QAC5B,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACH,KAAK,CAACI,MAAM,EAAED,CAAC,EAAE,EAAC;UAC7BP,KAAK,CAACS,IAAI,CAACL,KAAK,CAACG,CAAC,CAAC,EAAC,QAAQ,CAAC;UAC7B,IAAGA,CAAC,IAAIC,MAAM,EAAC;YACXF,OAAO,CAAC,CAAC;UACb;QACJ;MAEJ,CAAC,CAAC;IACN;IAAC;;IAED;IACAH,uCAAuC,CAAC,CAAC,CACxCO,IAAI,CAAC,YAAU;MACZC,UAAU,CAAC,YAAU;QACjB,IAAIC,WAAW,GAAGX,CAAC,CAAC,oBAAoB,CAAC;QACzC,KAAI,IAAIM,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACK,WAAW,CAACJ,MAAM,EAAED,CAAC,EAAE,EAAC;UACnCP,KAAK,CAACS,IAAI,CAACG,WAAW,CAACL,CAAC,CAAC,EAAE,QAAQ,CAAC;QAAC;MAC7C,CAAC,EAAC,IAAI,CAAC;IACX,CAAC,CAAC;IAEFM,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;EAEvB,CAAC,CAAC;AAEN,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}